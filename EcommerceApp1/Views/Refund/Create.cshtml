@using EcommerceApp1.Helpers.Enums.Refunds;
@model Refund

<form asp-controller="Refund" asp-action="Create">
    <input type="hidden" asp-for="TransactionID" />
    <input type="hidden" asp-for="UserID" />
    <input type="hidden" asp-for="ProductID" />
    <div class="form-row">
        <select asp-for="Reason" id="reasonSelect">
            <option value="@RefundReasons.DefectiveProduct.ToString()">Defective Product</option>
            <option value="@RefundReasons.OrderedByMistake.ToString()">Ordered by Mistake</option>
            <option value="@RefundReasons.WrongItemShipped.ToString()">Wrong Item Shipped</option>
            <option value="@RefundReasons.ItemDamagedInTransit.ToString()">Item Damaged in Transit</option>
            <option value="@RefundReasons.NotAsAdvertised.ToString()">Not as Advertised</option>
            <option value="Other">Other</option>
        </select>
    </div>
    <div id="customReasonInput" class="form-row" style="display:none;">
        <input type="text" asp-for="Reason" placeholder="Enter your custom reason" />
    </div>
    <button type="submit" class="btn btn-primary">Request Refund</button>
</form>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    // jQuery code to handle showing/hiding the custom reason input
    $(document).ready(function () {
        $("#reasonSelect").change(function () {
            if ($(this).val() === "Other") {
                $("#customReasonInput").show();
            } else {
                $("#customReasonInput").hide();
            }
        });
    });
</script>
